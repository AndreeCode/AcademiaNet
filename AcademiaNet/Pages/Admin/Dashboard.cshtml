@page
@model Academic.Pages.Admin.DashboardModel
@{
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-md-3 sidebar">
        <div class="card shadow-sm mb-3">
            <div class="card-body text-center">
                <h5 class="mb-0">Administrador</h5>
                <small class="text-muted">Panel</small>
            </div>
            <div class="list-group list-group-flush">
                <a class="list-group-item list-group-item-action active" href="#">Resumen</a>
                <a class="list-group-item list-group-item-action" asp-page="/Admin/Dashboard">Ciclos</a>
                <a class="list-group-item list-group-item-action" asp-page="/Admin/ManageTutors">Tutores</a>
            </div>
        </div>
    </div>

    <div class="col-md-9">
        <div class="card shadow-sm mb-3">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="mb-0">Panel Admin</h4>
                <div>
                    <a class="btn btn-primary" asp-page="/Admin/CreateCycle">Crear Ciclo</a>
                    <a class="btn btn-outline-secondary" asp-page="/Admin/CreateTutor">Crear Tutor</a>
                </div>
            </div>
        </div>

        <div class="row g-3">
            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-header bg-dark text-white">Ciclos</div>
                    <div class="card-body">
                        <table class="table table-sm">
                            <thead><tr><th>Nombre</th><th>Inicio</th><th>Fin</th><th>Vacantes</th></tr></thead>
                            <tbody>
                                @foreach (var c in Model.Ciclos)
                                {
                                    <tr>
                                        <td>@c.Nombre</td>
                                        <td>@c.FechaInicio.ToShortDateString()</td>
                                        <td>@c.FechaFin.ToShortDateString()</td>
                                        <td>@c.Vacantes</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-header bg-dark text-white">Tutores</div>
                    <div class="card-body">
                        <table class="table table-sm">
                            <thead><tr><th>Nombre</th><th>Email</th></tr></thead>
                            <tbody>
                                @foreach (var t in Model.Tutores)
                                {
                                    <tr>
                                        <td>@t.Nombre @t.Apellido</td>
                                        <td>@t.Email</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card shadow-sm mt-3">
                    <div class="card-header bg-dark text-white">Vacantes</div>
                    <div class="card-body">
                        <p>Vacantes disponibles: <strong>@Model.VacantesDisponibles</strong></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card-header.bg-dark { background-color: #800020 !important; }
</style>