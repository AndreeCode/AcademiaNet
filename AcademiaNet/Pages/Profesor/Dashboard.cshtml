@page
@model Academic.Pages.Profesor.DashboardModel
@{
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-md-3 sidebar">
        <div class="card shadow-sm mb-3">
            <div class="card-body text-center">
                <h5 class="mb-0">Profesor</h5>
                <small class="text-muted">@Model.ProfesorModel?.Nombre @Model.ProfesorModel?.Apellido</small>
            </div>
            <div class="list-group list-group-flush">
                <a class="list-group-item list-group-item-action active" href="#">Resumen</a>
                <a class="list-group-item list-group-item-action" asp-page="/Profesor/Dashboard">Cursos</a>
                <a class="list-group-item list-group-item-action" asp-page="/Public/Materials">Materiales</a>
            </div>
        </div>
    </div>

    <div class="col-md-9">
        <div class="card shadow-sm mb-3">
            <div class="card-body d-flex justify-content-between align-items-center">
                <h4 class="mb-0">Panel Profesor</h4>
                <div>
                    <a class="btn btn-primary" asp-page="/Profesor/Dashboard">Refrescar</a>
                </div>
            </div>
        </div>

        <div class="row g-3">
            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-header bg-dark text-white">Cursos</div>
                    <div class="card-body">
                        @if (Model.Cursos.Any())
                        {
                            <ul>
                                @foreach (var c in Model.Cursos)
                                {
                                    <li>@c.Nombre</li>
                                }
                            </ul>
                        }
                        else
                        {
                            <p>No tienes cursos asignados.</p>
                        }
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-header bg-dark text-white">Horarios</div>
                    <div class="card-body">
                        @if (Model.Horarios.Any())
                        {
                            <table class="table table-sm">
                                <thead><tr><th>Aula</th><th>Día</th><th>Inicio</th><th>Fin</th></tr></thead>
                                <tbody>
                                    @foreach (var h in Model.Horarios)
                                    {
                                        <tr>
                                            <td>@h.Salon?.Nombre</td>
                                            <td>@h.Dia</td>
                                            <td>@h.HoraInicio.ToString(@"hh\:mm")</td>
                                            <td>@h.HoraFin.ToString(@"hh\:mm")</td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <p>No hay horarios asociados a tus cursos.</p>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card-header.bg-dark { background-color: #800020 !important; }
</style>